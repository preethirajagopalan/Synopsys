#!/opt/python-2.7.13/bin/python

import subprocess
import threading
import datetime
now = datetime.datetime.now()
print(now)
# from av import a
a = ['10.16.161.249',
'10.16.161.250',
'10.16.161.251',
'10.13.228.1',
'10.13.228.2',
'10.15.0.28',
'10.15.0.29',
'10.15.0.44',
'10.15.0.45',
'10.15.100.1',
'10.15.100.2',
'10.15.103.252',
'10.15.103.253',
'10.15.104.1',
'10.15.104.2',
'10.15.111.252',
'10.15.111.253',
'10.15.112.1',
'10.15.112.2',
'10.15.119.252',
'10.15.119.253',
'10.15.120.1',
'10.15.120.2',
'10.15.127.252',
'10.15.127.253',
'10.15.128.1',
'10.15.128.2',
'10.15.128.3',
'10.15.135.252',
'10.15.135.253',
'10.15.136.1',
'10.15.136.2',
'10.15.139.252',
'10.15.139.253',
'10.15.152.1',
'10.15.152.2',
'10.15.152.5',
'10.15.159.252',
'10.15.159.253',
'10.15.16.1',
'10.15.16.2',
'10.15.160.1',
'10.15.160.2',
'10.15.160.3',
'10.15.160.4',
'10.15.167.252',
'10.15.167.253',
'10.15.168.1',
'10.15.168.2',
'10.15.175.252',
'10.15.175.253',
'10.15.176.1',
'10.15.176.2',
'10.15.176.3',
'10.15.176.4',
'10.15.179.252',
'10.15.179.253',
'10.15.183.252',
'10.15.183.253',
'10.15.191.252',
'10.15.191.253',
'10.15.199.252',
'10.15.199.253',
'10.15.207.252',
'10.15.207.253',
'10.15.223.252',
'10.15.223.253',
'10.15.23.252',
'10.15.23.253',
'10.15.231.252',
'10.15.231.253',
'10.15.239.250',
'10.15.239.251',
'10.15.239.252',
'10.15.239.253',
'10.15.24.1',
'10.15.24.2',
'10.15.240.1',
'10.15.240.2',
'10.15.247.252',
'10.15.247.253',
'10.15.255.250',
'10.15.255.251',
'10.15.255.252',
'10.15.255.253',
'10.15.31.252',
'10.15.31.253',
'10.15.39.252',
'10.15.39.253',
'10.15.7.252',
'10.15.7.253',
'10.15.71.252',
'10.15.71.253',
'10.15.75.252',
'10.15.75.253',
'10.15.83.252',
'10.15.83.253',
'10.15.85.252',
'10.15.85.253',
'10.15.87.252',
'10.15.87.253',
'10.15.91.1',
'10.15.91.2',
'10.15.91.252',
'10.15.91.253',
'10.15.91.5',
'10.15.91.6',
'10.15.95.252',
'10.15.95.253',
'10.187.25.252',
'10.187.25.253',
'10.187.29.252',
'10.187.29.253',
'10.187.89.252',
'10.187.89.253',
'10.187.93.252',
'10.187.93.253',
'10.192.0.1',
'10.192.0.14',
'10.192.0.2',
'10.192.0.252',
'10.192.0.30',
'10.192.0.34',
'10.192.0.42',
'10.192.0.5',
'10.192.0.9',
'10.192.0.94',
'10.192.1.252',
'10.192.1.253',
'10.192.15.252',
'10.192.15.253',
'10.192.192.1',
'10.192.192.2',
'10.192.199.252',
'10.192.199.253',
'10.192.79.252',
'10.192.79.253',
'10.192.8.1',
'10.192.8.2',
'10.192.95.252',
'10.192.95.253',
'10.193.0.1',
'10.193.0.2',
'10.193.128.1',
'10.193.128.2',
'10.193.135.250',
'10.193.135.251',
'10.193.135.252',
'10.193.135.253',
'10.193.7.252',
'10.193.7.253',
'10.194.197.17',
'10.194.64.1',
'10.194.64.2',
'10.194.71.252',
'10.194.71.253',
'10.195.0.1',
'10.195.0.2',
'10.195.101.252',
'10.195.101.253',
'10.195.103.252',
'10.195.103.253',
'10.195.111.252',
'10.195.111.253',
'10.195.112.252',
'10.195.112.253',
'10.195.113.252',
'10.195.113.253',
'10.195.114.252',
'10.195.114.253',
'10.195.115.252',
'10.195.115.253',
'10.195.116.252',
'10.195.116.253',
'10.195.117.252',
'10.195.117.253',
'10.195.127.252',
'10.195.127.253',
'10.195.135.252',
'10.195.135.253',
'10.195.143.252',
'10.195.143.253',
'10.195.15.252',
'10.195.15.253',
'10.195.151.252',
'10.195.151.253',
'10.195.159.252',
'10.195.159.253',
'10.195.23.252',
'10.195.23.253',
'10.195.31.252',
'10.195.31.253',
'10.195.39.252',
'10.195.39.253',
'10.195.47.252',
'10.195.47.253',
'10.195.51.252',
'10.195.51.253',
'10.195.55.252',
'10.195.55.253',
'10.195.63.252',
'10.195.63.253',
'10.195.7.252',
'10.195.7.253',
'10.195.71.252',
'10.195.71.253',
'10.195.79.252',
'10.195.79.253',
'10.195.8.1',
'10.195.8.2',
'10.195.87.252',
'10.195.87.253',
'10.195.92.2',
'10.195.95.252',
'10.195.95.253',
'10.195.97.252',
'10.195.97.253',
'10.195.99.252',
'10.195.99.253',
'10.196.1.252',
'10.196.1.253',
'10.196.11.252',
'10.196.11.253',
'10.196.13.252',
'10.196.13.253',
'10.196.131.252',
'10.196.131.253',
'10.196.135.252',
'10.196.135.253',
'10.196.139.252',
'10.196.139.253',
'10.196.143.252',
'10.196.143.253',
'10.196.147.252',
'10.196.147.253',
'10.196.15.252',
'10.196.15.253',
'10.196.151.252',
'10.196.151.253',
'10.196.155.252',
'10.196.155.253',
'10.196.163.252',
'10.196.163.253',
'10.196.167.252',
'10.196.167.253',
'10.196.171.252',
'10.196.171.253',
'10.196.175.252',
'10.196.175.253',
'10.196.179.252',
'10.196.179.253',
'10.196.183.252',
'10.196.183.253',
'10.196.19.252',
'10.196.19.253',
'10.196.195.252',
'10.196.195.253',
'10.196.199.252',
'10.196.199.253',
'10.196.203.252',
'10.196.203.253',
'10.196.207.252',
'10.196.207.253',
'10.196.21.252',
'10.196.21.253',
'10.196.211.252',
'10.196.211.253',
'10.196.215.252',
'10.196.215.253',
'10.196.219.252',
'10.196.219.253',
'10.196.227.252',
'10.196.227.253',
'10.196.23.252',
'10.196.23.253',
'10.196.231.252',
'10.196.231.253',
'10.196.235.252',
'10.196.235.253',
'10.196.239.252',
'10.196.239.253',
'10.196.243.252',
'10.196.243.253',
'10.196.247.252',
'10.196.247.253',
'10.196.25.252',
'10.196.25.253',
'10.196.27.252',
'10.196.27.253',
'10.196.29.252',
'10.196.29.253',
'10.196.3.1',
'10.196.3.2',
'10.196.3.252',
'10.196.3.253',
'10.196.5.252',
'10.196.5.253',
'10.196.65.252',
'10.196.65.253',
'10.196.67.252',
'10.196.67.253',
'10.196.69.252',
'10.196.69.253',
'10.196.7.252',
'10.196.7.253',
'10.196.71.252',
'10.196.71.253',
'10.196.73.252',
'10.196.73.253',
'10.196.75.252',
'10.196.75.253',
'10.196.77.252',
'10.196.77.253',
'10.196.79.252',
'10.196.79.253',
'10.196.83.252',
'10.196.83.253',
'10.196.85.252',
'10.196.85.253',
'10.196.87.252',
'10.196.87.253',
'10.196.89.252',
'10.196.89.253',
'10.196.9.252',
'10.196.9.253',
'10.196.91.252',
'10.196.91.253',
'10.196.93.252',
'10.196.93.253',
'10.197.103.252',
'10.197.103.253',
'10.197.107.252',
'10.197.107.253',
'10.197.11.252',
'10.197.11.253',
'10.197.111.252',
'10.197.111.253',
'10.197.115.252',
'10.197.115.253',
'10.197.119.252',
'10.197.119.253',
'10.197.131.252',
'10.197.131.253',
'10.197.135.252',
'10.197.135.253',
'10.197.139.252',
'10.197.139.253',
'10.197.143.252',
'10.197.143.253',
'10.197.147.252',
'10.197.147.253',
'10.197.15.252',
'10.197.15.253',
'10.197.151.252',
'10.197.151.253',
'10.197.155.252',
'10.197.155.253',
'10.197.163.252',
'10.197.163.253',
'10.197.167.252',
'10.197.167.253',
'10.197.171.252',
'10.197.171.253',
'10.197.175.252',
'10.197.175.253',
'10.197.179.252',
'10.197.179.253',
'10.197.183.252',
'10.197.183.253',
'10.197.19.252',
'10.197.19.253',
'10.197.191.252',
'10.197.191.253',
'10.197.195.252',
'10.197.195.253',
'10.197.199.252',
'10.197.199.253',
'10.197.203.252',
'10.197.203.253',
'10.197.207.252',
'10.197.207.253',
'10.197.211.252',
'10.197.211.253',
'10.197.215.252',
'10.197.215.253',
'10.197.219.252',
'10.197.219.253',
'10.197.227.252',
'10.197.227.253',
'10.197.23.252',
'10.197.23.253',
'10.197.231.252',
'10.197.231.253',
'10.197.235.252',
'10.197.235.253',
'10.197.239.252',
'10.197.239.253',
'10.197.243.252',
'10.197.243.253',
'10.197.247.252',
'10.197.247.253',
'10.197.27.252',
'10.197.27.253',
'10.197.3.252',
'10.197.3.253',
'10.197.35.252',
'10.197.35.253',
'10.197.39.252',
'10.197.39.253',
'10.197.43.252',
'10.197.43.253',
'10.197.47.252',
'10.197.47.253',
'10.197.51.252',
'10.197.51.253',
'10.197.55.252',
'10.197.55.253',
'10.197.67.252',
'10.197.67.253',
'10.197.7.252',
'10.197.7.253',
'10.197.71.252',
'10.197.71.253',
'10.197.75.252',
'10.197.75.253',
'10.197.79.252',
'10.197.79.253',
'10.197.83.252',
'10.197.83.253',
'10.197.87.252',
'10.197.87.253',
'10.197.91.252',
'10.197.91.253',
'10.197.99.252',
'10.197.99.253',
'10.198.111.249',
'10.198.111.250',
'10.198.127.242',
'10.198.127.243',
'10.198.127.246',
'10.198.127.247',
'10.198.127.248',
'10.198.127.249',
'10.198.143.246',
'10.198.143.247',
'10.198.143.248',
'10.198.143.249',
'10.198.143.250',
'10.198.144.1',
'10.198.144.2',
'10.198.16.5',
'10.198.16.6',
'10.198.16.7',
'10.198.16.8',
'10.198.16.83',
'10.198.16.84',
'10.198.160.1',
'10.198.160.2',
'10.198.176.1',
'10.198.176.2',
'10.198.176.3',
'10.198.176.4',
'10.198.192.1',
'10.198.192.2',
'10.198.208.4',
'10.198.208.5',
'10.198.31.236',
'10.198.47.249',
'10.198.47.250',
'10.198.48.1',
'10.198.48.2',
'10.198.48.3',
'10.198.48.4',
'10.198.48.6',
'10.198.48.7',
'10.198.64.1',
'10.198.64.2',
'10.198.64.3',
'10.198.64.4',
'10.198.64.5',
'10.198.64.6',
'10.198.64.7',
'10.198.64.8',
'10.198.80.1',
'10.198.80.2',
'10.198.80.3',
'10.198.80.4',
'10.198.96.1',
'10.198.96.2',
'10.198.96.3',
'10.198.96.4',
'10.198.96.5',
'10.198.96.6',
'10.200.1.156',
'10.200.1.157',
     '10.198.111.252',
     '10.15.68.1',
     '10.198.16.85',
     '10.198.16.86',
     '10.8.126.247',
     '10.8.126.246',
     '10.8.126.1',
     '10.8.126.244',
     '10.8.126.249',
     '10.8.126.248',
     '10.198.16.9',
     '10.198.127.242',
     '10.198.127.243',
     '10.198.31.232',
     '10.198.31.233',
     '10.198.31.234'
     ]
class Pinger(object):
    status = {'alive': [], 'dead': []} # Populated while we are running
    hosts = [] # List of all hosts/ips in our input queue

    # How many ping process at the time.
    thread_count = 4

    # Lock object to keep track the threads in loops, where it can potentially be race conditions.
    lock = threading.Lock()

    def ping(self, ip):
        # Use the system ping command with count of 1 and wait time of 1.
        ret = subprocess.call(['ping', '-c', '1', '-W', '1', ip],
                              stdout=open('/dev/null', 'w'), stderr=open('/dev/null', 'w'))

        return ret == 0 # Return True if our ping command succeeds

    def pop_queue(self):
        ip = None

        self.lock.acquire() # Grab or wait+grab the lock.

        if self.hosts:
            ip = self.hosts.pop()

        self.lock.release() # Release the lock, so another thread could grab it.

        return ip

    def dequeue(self):
        while True:
            ip = self.pop_queue()

            if not ip:
                return None

            result = 'alive' if self.ping(ip) else 'dead'
            self.status[result].append(ip)

    def start(self):
        threads = []

        for i in range(self.thread_count):
            # Create self.thread_count number of threads that together will
            # cooperate removing every ip in the list. Each thread will do the
            # job as fast as it can.
            t = threading.Thread(target=self.dequeue)
            t.start()
            threads.append(t)

        # Wait until all the threads are done. .join() is blocking.
        [ t.join() for t in threads ]

        return self.status

if __name__ == '__main__':
    ping = Pinger()
    ping.thread_count = 10
    ping.hosts = a
    dict1 = ping.start()
    print("dead")
    print('\n'.join(map(str, sorted(dict1['dead']))))
    print("alive")
    print('\n'.join(map(str, sorted(dict1['alive']))))
    # print(ping.start())